{"version":3,"sources":["webpack:///./src/views/layout/login.vue?6e6c","webpack:///src/views/layout/login.vue","webpack:///./src/views/layout/login.vue?39de","webpack:///./src/views/layout/login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","_b","ref","attrs","loginForm","rules","layout","model","value","callback","$$v","$set","expression","span","offset","on","$event","submitForm","_v","staticStyle","resetForm","staticRenderFns","data","emailRef","test","Error","password","email","labelCol","wrapperCol","methods","$refs","formName","validate","valid","console","log","resetFields","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,eAAeJ,EAAIM,GAAG,CAACC,IAAI,YAAYC,MAAM,CAAC,MAAQR,EAAIS,UAAU,MAAQT,EAAIU,QAAQ,eAAeV,EAAIW,QAAO,GAAO,CAACP,EAAG,oBAAoB,CAACI,MAAM,CAAC,eAAe,GAAG,MAAQ,KAAK,KAAO,UAAU,CAACJ,EAAG,UAAU,CAACQ,MAAM,CAACC,MAAOb,EAAIS,UAAe,MAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,UAAW,QAASM,IAAME,WAAW,sBAAsB,GAAGb,EAAG,oBAAoB,CAACI,MAAM,CAAC,eAAe,GAAG,MAAQ,KAAK,KAAO,aAAa,CAACJ,EAAG,UAAU,CAACI,MAAM,CAAC,KAAO,WAAW,aAAe,OAAOI,MAAM,CAACC,MAAOb,EAAIS,UAAkB,SAAEK,SAAS,SAAUC,GAAMf,EAAIgB,KAAKhB,EAAIS,UAAW,WAAYM,IAAME,WAAW,yBAAyB,GAAGb,EAAG,oBAAoB,CAACI,MAAM,CAAC,cAAc,CAAEU,KAAM,GAAIC,OAAQ,KAAM,CAACf,EAAG,WAAW,CAACI,MAAM,CAAC,KAAO,WAAWY,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIsB,WAAW,gBAAgB,CAACtB,EAAIuB,GAAG,UAAUnB,EAAG,WAAW,CAACoB,YAAY,CAAC,cAAc,QAAQJ,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOrB,EAAIyB,UAAU,gBAAgB,CAACzB,EAAIuB,GAAG,WAAW,IAAI,IAC9iCG,EAAkB,G,wBC8BtB,GACEC,KADF,WAEI,IAAJ,wBACA,kBACM,OAAKd,EAGDe,EAASC,KAAKhB,GACTC,IAGFA,EAAS,IAAIgB,MAAM,eANjBhB,EAAS,IAAIgB,MAAM,WAQlC,kBACoB,KAAVjB,EACFC,EAAS,IAAIgB,MAAM,8BAEnBhB,KAIJ,MAAO,CACLL,UAAW,CACTsB,SAAU,SACVC,MAAO,oBAETtB,MAAO,CACLqB,SAAU,CAAC,CAAnB,+BACQC,MAAO,CAAC,CAAhB,gCAEMrB,OAAQ,CACNsB,SAAU,CAAlB,QACQC,WAAY,CAApB,YAIEC,QAAS,OAAX,OAAW,CAAX,kBACA,6BADA,IAEIb,WAFJ,SAEA,cAEMrB,KAAKmC,MAAMC,GAAUC,UAAS,SAApC,GACQ,OAAIC,GACF,EAAV,OACA,mBACA,kBACY,QAAZ,iBACA,2BAEc,EAAd,qBACc,QAAd,yBACc,EAAd,cACgB,KAAhB,UAEA,wBACc,EAAd,8BAGA,mBACY,QAAZ,OACY,EAAZ,sBAEiB,IAETC,QAAQC,IAAI,mBACL,OAGXhB,UA/BJ,SA+BA,GACMxB,KAAKmC,MAAMC,GAAUK,kBCnGmU,I,YCO1VC,EAAY,eACd,EACA5C,EACA2B,GACA,EACA,KACA,KACA,MAIa,aAAAiB,E","file":"js/chunk-2d0e2365.8621b4fd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a-form-model',_vm._b({ref:\"loginForm\",attrs:{\"model\":_vm.loginForm,\"rules\":_vm.rules}},'a-form-model',_vm.layout,false),[_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"label\":\"邮箱\",\"prop\":\"email\"}},[_c('a-input',{model:{value:(_vm.loginForm.email),callback:function ($$v) {_vm.$set(_vm.loginForm, \"email\", $$v)},expression:\"loginForm.email\"}})],1),_c('a-form-model-item',{attrs:{\"has-feedback\":\"\",\"label\":\"密码\",\"prop\":\"password\"}},[_c('a-input',{attrs:{\"type\":\"password\",\"autocomplete\":\"off\"},model:{value:(_vm.loginForm.password),callback:function ($$v) {_vm.$set(_vm.loginForm, \"password\", $$v)},expression:\"loginForm.password\"}})],1),_c('a-form-model-item',{attrs:{\"wrapper-col\":{ span: 14, offset: 4 }}},[_c('a-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('loginForm')}}},[_vm._v(\" 提交 \")]),_c('a-button',{staticStyle:{\"margin-left\":\"10px\"},on:{\"click\":function($event){return _vm.resetForm('loginForm')}}},[_vm._v(\" 重置 \")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <a-form-model\n    ref=\"loginForm\"\n    :model=\"loginForm\"\n    :rules=\"rules\"\n    v-bind=\"layout\"\n  >\n    <a-form-model-item has-feedback label=\"邮箱\" prop=\"email\">\n      <a-input v-model=\"loginForm.email\" />\n    </a-form-model-item>\n    <a-form-model-item has-feedback label=\"密码\" prop=\"password\">\n      <a-input\n        v-model=\"loginForm.password\"\n        type=\"password\"\n        autocomplete=\"off\"\n      />\n    </a-form-model-item>\n    <a-form-model-item :wrapper-col=\"{ span: 14, offset: 4 }\">\n      <a-button type=\"primary\" @click=\"submitForm('loginForm')\">\n        提交\n      </a-button>\n      <a-button style=\"margin-left: 10px\" @click=\"resetForm('loginForm')\">\n        重置\n      </a-button>\n    </a-form-model-item>\n  </a-form-model>\n</template>\n<script>\nimport { mapActions } from 'vuex';\n// import cookies from '@/untils/cookie';\n\nexport default {\n  data() {\n    const emailRef = /^[\\w-]+@[\\w.-]+.com/;\n    const checkEmail = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error('请输入邮箱'));\n      }\n      if (emailRef.test(value)) {\n        return callback();\n      }\n\n      return callback(new Error('请输入正确的邮箱格式'));\n    };\n    const checkPass = (rule, value, callback) => {\n      if (value === '') {\n        callback(new Error('Please input the password'));\n      } else {\n        callback();\n      }\n    };\n\n    return {\n      loginForm: {\n        password: '123456',\n        email: '137925357@qq.com',\n      },\n      rules: {\n        password: [{ validator: checkPass, trigger: 'change' }],\n        email: [{ validator: checkEmail, trigger: 'change' }],\n      },\n      layout: {\n        labelCol: { span: 4 },\n        wrapperCol: { span: 14 },\n      },\n    };\n  },\n  methods: {\n    ...mapActions(['setUser']),\n    submitForm(formName) {\n      //   console.log(this.$axios.login(this.loginForm));\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          this.$axios\n            .login(this.loginForm)\n            .then((res) => {\n              console.log(res.data.data);\n              if (res.data.status === 'success') {\n                // cookies.setCookie(res.data.data);\n                this.setUser(res.data.data);\n                console.log(this.$store.state.user);\n                this.$router.push({\n                  name: 'Home',\n                });\n              } else if (res.data.status === 'fail') {\n                this.$message.error(res.data.msg);\n              }\n            })\n            .catch((error) => {\n              console.log(error);\n              this.$message.error(error);\n            });\n          return true;\n        }\n        console.log('error submit!!');\n        return false;\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./login.vue?vue&type=template&id=c4c41e56&\"\nimport script from \"./login.vue?vue&type=script&lang=js&\"\nexport * from \"./login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}